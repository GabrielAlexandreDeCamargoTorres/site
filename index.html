<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Interação com a API do Sala do Futuro</title>
</head>
<body>
    <h1>Login no Sala do Futuro</h1>
    <form id="loginForm">
        <label for="ra">RA:</label>
        <input type="text" id="ra" required>
        <br>
        <label for="digito">Dígito:</label>
        <input type="text" id="digito" required>
        <br>
        <label for="localidade">Localidade (ex: SP):</label>
        <input type="text" id="localidade" required>
        <br>
        <label for="senha">Senha:</label>
        <input type="password" id="senha" required>
        <br>
        <button type="submit">Entrar</button>
    </form>
    <div id="resultado"></div>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            const ra = document.getElementById('ra').value;
            const digito = document.getElementById('digito').value;
            const localidade = document.getElementById('localidade').value;
            const senha = document.getElementById('senha').value;

            // Montar a URL da API com os parâmetros
            const url = `https://edusp-api.ip.tv/achievement/user/achievement?ra=${ra}&digito=${digito}&localidade=${localidade}&senha=${senha}`;

            // Fazer a requisição à API
            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Erro na autenticação: ' + response.statusText);
                    }
                    return response.json();
                })
                .then(data => {
                    // Processar os dados recebidos
                    document.getElementById('resultado').innerText = JSON.stringify(data);
                })
                .catch(error => {
                    document.getElementById('resultado').innerText = 'Erro: ' + error.message;
                });
        });
    </script>
</body>
</html>
